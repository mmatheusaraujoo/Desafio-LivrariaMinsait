<app-navbar></app-navbar>
<div class="livros-page">
    <div class="livros-page-header">
        <h2>Livros Listados</h2>
        <input matInput type="text" [(ngModel)]="termoDePesquisa" placeholder="Pesquisar Livro"
            (input)="filtrarLivros()" class="input-filtro">
        <a href="/livro/novo-livro">
            <button mat-stroked-button color="primary">
                <mat-icon color="primary">add</mat-icon>
                Cadastrar Novo Livro
            </button>
        </a>
    </div>
    <mat-divider></mat-divider>
    <ul class="livros-list">
        <li class="list-item list-header">
            <button mat-button color="primary" class="table-item" (click)="ordenarPorId()">
                Id
                <mat-icon aria-hidden="false" aria-label="Incone de filtro" fontIcon="expand_more"></mat-icon>
            </button>
            <button mat-button color="primary" class="table-item" (click)="ordenarPorTitulo()">
                Titulo
                <mat-icon aria-hidden="false" aria-label="Incone de filtro" fontIcon="expand_more"></mat-icon>
            </button>
            <p class=" table-item">Subtitulo</p>
            <button mat-button color="primary" class="table-item" (click)="ordenarPorAutor()">
                Autor
                <mat-icon aria-hidden="false" aria-label="Incone de filtro" fontIcon="expand_more"></mat-icon>
            </button>
            <button mat-button color="primary" class="table-item" (click)="ordenarPorData()">
                Data de Publicação
                <mat-icon aria-hidden="false" aria-label="Incone de filtro" fontIcon="expand_more"></mat-icon>
            </button>
            <p class="table-item">Editora</p>
            <p class="table-item">ISBN</p>
            <button mat-button color="primary" class="table-item" (click)="ordenarPorEstoque()">
                Quantidade em Estoque
                <mat-icon aria-hidden="false" aria-label="Incone de filtro" fontIcon="expand_more"></mat-icon>
            </button>
            <p class="table-item">Editar/Remover</p>
        </li>
        <li class="list-item list-livro" *ngFor="let livro of livrosLista">
            <p class="table-item"> {{livro.id}} </p>
            <p class="table-item"> {{livro.titulo}} </p>
            <p class="table-item"> {{livro.subtitulo}} </p>
            <p *ngIf='livro.autores[0] != null' class="table-item"> {{livro.autores[0].nome}}</p>
            <p *ngIf='livro.autores[0] == null' class="table-item"> </p>
            <p class="table-item"> {{livro.dataDePublicacao | date:'dd-MM-yyyy'}} </p>
            <p class="table-item"> {{livro.editora}} </p>
            <p class="table-item"> {{livro.isbn}} </p>
            <p class="table-item"> {{livro.quantidadeEmEstoque}} </p>
            <div class="action-buttons table-item">
                <button mat-mini-fab color="accent" aria-label="Icon button with edit icon">
                    <mat-icon>edit</mat-icon>
                </button>
                <button mat-mini-fab color="primary" aria-label="Icon button with a delete icon">
                    <mat-icon>delete</mat-icon>
                </button>
            </div>
        </li>
    </ul>
</div>